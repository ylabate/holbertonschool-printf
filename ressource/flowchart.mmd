flowchart TB
    %% --- Définition des Styles (Compatible GitHub) ---
    %% Style pour les boîtes standards (Processus) - Bordure Cyan/Bleu
    classDef process fill:#0f111a,stroke:#00b4d8,stroke-width:2px,color:#fff
    
    %% Style pour les décisions (Losanges) - Bordure Violet/Rose (Épaissie à 5px)
    classDef decision fill:#0f111a,stroke:#f72585,stroke-width:5px,color:#fff
    
    %% Style pour Start/Stop (Terminaisons) - Rouge Néon très visible & Bordure 6px
    classDef terminal fill:#0f111a,stroke:#ff0040,stroke-width:6px,color:#fff
    
    %% Style pour les Inputs (Parallélogramme)
    classDef input fill:#0f111a,stroke:#4cc9f0,stroke-width:2px,stroke-dasharray: 5 5,color:#fff

    %% --- Le Diagramme ---

    subgraph B["Initialization"]
        direction TB
        1("Start argument list (va_start)"):::process
        2("Allocate memory buffers<br/>(buffer & temp_buffer)"):::process
        4("Initialize counters to 0"):::process
    end
    %% Style du subgraph Initialization (Violet Électrique récupéré)
    style B fill:#0f111a,stroke:#8338ec,stroke-width:3px,color:#fff

    subgraph END["end"]
        direction TB
        6("write buffer buffer_index"):::process
        7("va_end args"):::process
        8("free buffer"):::process
        9(["return buffer_index<br/>STOP"]):::terminal
    end
    %% Style du subgraph END (Violet Électrique récupéré)
    style END fill:#0f111a,stroke:#8338ec,stroke-width:3px,color:#fff

    A(["START<br/>Call _printf"]):::terminal --> B
    Abis[/"const char *format, ..."/]:::input --> B
    
    B --> Bbis{"format == NULL"}:::decision
    
    Bbis -- false --> C{"Are there characters left?<br/>(format[i] != \0)"}:::decision
    Bbis -- true --> END
    
    C -- false --> END
    C -- true --> D{"Is current char '%'"}:::decision
    
    D -- false --> E("Copy char to buffer<br/>& increment index"):::process
    D -- true --> F("Identify specifier type after '%'"):::process
    
    E --> C
    F --> H("Convert argument<br/>& store in temp_buffer"):::process
    H --> I("Check buffer capacity<br/>(Resize if needed)"):::process
    I --> K("Copy temp_buffer to main buffer<br/>& update indexes"):::process
    K --> C

    %% --- Styles des liens (Lignes blanches) ---
    linkStyle default stroke:#fff,stroke-width:1px
